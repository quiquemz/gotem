<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="UTF-8">
    <title>Gotem</title>
    <link href="https://fonts.googleapis.com/css?family=Slackey" rel="stylesheet"> <!--TODO download font-->
    <link rel="stylesheet" href="css/auth.css">

    <!--Firebase Start-->
    <script src="https://www.gstatic.com/firebasejs/5.6.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.6.0/firebase-auth.js"></script>
    <script src="/js/firebase.js"></script>
    <!--Firebase End-->
    <script>
      let attempted_login = false;
      firebase.auth().onAuthStateChanged(function(user) {
        if (user && attempted_login) {
          window.location.assign("/")
        }else if(user){
          console.log('login not yet attempted');
        }
      });
    </script>

  </head>
  <body id="auth">

    <header>
      <img src="img/gotem_logo.webp" alt="Gotem">
      <h1>GoteM</h1>
    </header>

    <main>
    <img src="" alt="Some meme">
    <form action="" method="POST" onsubmit="authorization(); return false;" name="authForm">

      <div>
        <label for="email">Email</label>
        <input id="email" type="email" placeholder="example@ucsd.edu" name="authEmail">
      </div>

      <div>
        <label for="password">Password</label>
        <input id="password" type="password" placeholder="••••••••••••••" name="authPassword">
      </div>

      <div>
        <button name="login" value="" onclick="this.value='login'">Login</button>
        <button name="signup" value="" onclick="this.value='signup'">Signup</button>
      </div>

      <div id="error-message">
      </div>
    </form>
    </main>

  </body>
  <!--Javascript Start-->
  <script src="/js/auth.js"></script>
  <!--Javascript End-->
</html>
